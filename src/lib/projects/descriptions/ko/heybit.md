# 헤이비트/디지털 자산 예치 시스템

헤이비트는 기존에 유저가 선택한 투자전략에 따라 위탁받은 디지털 자산을 자체 개발 퀀트 알고리즘에 따른 운용, 수익의 일부를 수수료로 하여 BM 을 가져가는 로보 어드바이저 상품으로 매출을 발생시키고 있었는데, 
새로운 매출 창출을 위한 디지털 자산 예치 시스템을 개발하는 프로젝트.


기존의 상품이 원금손실이 있을수 있는 Fund 상품이라면  
예치 서비스(Harvest)는 정해진 이자를 지급하는 일반 예치 상품과 유사한 상품. 

다만, 주 단위 이자 바로 지급이 필요했으며 (복리) 계약 기간 등을 따로 명시하지 않고 일할 연산하여 지급을 하는 상품이었으므로, 단순히 출금 당시까지의 일자로 복리를 계산해서 지급하는 형태로는 개발이 불가했고, 
서버가 불안정할때의 이슈로 이자가 중복지급되거나 하지 않았어야 했으므로 `Idempotent` 에 대해 상당히 많은 공을 들여야 했던 서비스. 분산 시스템에서 발생할 수 있는 이슈들에 대해 많은 고민을 진행함.

자산을 직접 다루는 업무였으므로 버그가 발생하면 치명적이었으므로, `TDD` 로 e2e 및 unit test 커버리지 > 80%.
물론, 커버리지로 표현되지 않는 그 이상의 테스트 케이스들이 주요 로직들에 대하여 작성됨. 

최초 오픈시 특정 케이스의 경우 이자가 잘못 지급될 수 있는 홀이 모니터링간 발견 되었으나 `DB 전수 검사`, `수기 체크` 등을 통한 이슈 해소 

💡 프로젝트 운영하는 약 2년간 자산사고 0건

## 주요 포인트

- 운용 자산 규모 `AUM 220 억`
- 2 년간 자산 사고 0건
- 블록체인/디지털자산 입금과 예치서비스 가입에 따른 `주 복리` 이자 지급
- 예치 시스템 개발을 위해 이자 산정 기준 시점 등, 수립 필요한 기획/정책 최초 정리하여 팀과 커뮤니케이션
- 유저 출금 요청을 처리하기 위한 자동화된 블록 체인 출금 시스템 설계/ 커뮤니케이션/ 개발
- 추가 BM 창출을 위한 속도 위주의 콘텐츠 개발 (ex. 경매 / LockUp / Perry)
 
